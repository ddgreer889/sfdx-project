<aura:component implements="force:appHostable,flexipage:availableForAllPageTypes" access="global" controller="afTrainerInfoController">
    
    <ltng:require styles="{!$Resource.RevatureStyles}"/>
    <lightning:notificationsLibrary aura:id="notificationsLibrary"/>
    
    <aura:attribute name="frameWidth" type="String" default="250" /><!--250-->
    <aura:attribute name="frameHeight" type="String" default="30" /><!--30-->

    <aura:attribute name="recordId" type="Id" />

    <!-- Needed to send messages to VF page. But we will get it from VF itself -->
    <aura:attribute name="vfHost" type="String" default="" />
    <!-- Domain of LC for VF to send message -->
    <aura:attribute name="lcHost" type="String" />



    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />

    <aura:attribute name="frameSrc" type="String" />

    <aura:attribute name="userId" type="Id"/>
    <aura:attribute name="filename" type="String"/>
    <aura:attribute name="fileId" type="Id"/>
    <aura:attribute name="hasChanged" type="boolean" default="false"/>
    
    <aura:attribute name="status" type="String" default="Planned" />
    <aura:attribute name="uncleared" type="Boolean" default="true" />
    <aura:attribute name="disabled" type="Boolean" default="false" />
    <aura:attribute name="saved" type="Boolean" default="false" />
    <aura:attribute name="showSpinner" type="Boolean" default="true" />
    
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:handler event="force:refreshView" action="{!c.isRefreshed}" />
    <aura:handler name="change" value="{!v.hasChanged}" action="{!c.isRefreshed}"/>
  
        <div class="slds-card__body slds-card__body_inner">
            <aura:if isTrue="{!v.uncleared}">
                <div class="slds-card">
                    <lightning:recordEditForm aura:id="currentUserInfo" recordId="{!v.userId}" objectApiName="User" onsuccess="{!c.onSuccess}">
                        <div class="slds-card">
                            <lightning:messages/>
                            <div class="slds-card__header">
                                <header class="slds-media slds-media_center slds-has-flexi-truncate">
                                    <div class="slds-media__body">
                                        <h2 class="slds-card__header-title">
                                            <span class="slds-text-heading_medium">Edit Profile</span>
                                        </h2>
                                    </div>
                                    <div class="slds-no-flex">
                                        <lightning:buttonIcon class="headerBtn" onclick="{!c.onSubmit}" iconName="utility:check" variant="bare" size="large" alternativeText="Submit"/>
                                    </div>
                                    <div class="slds-no-flex">
                                        <lightning:buttonIcon class="headerBtn" onclick="{!c.isRefreshed}" iconName="utility:close" variant="bare" size="large" alternativeText="Clear"/>
                                    </div>
                                </header>
                            </div>                            
                            <lightning:messages />
                            <div class="slds-grid slds-gutters slds-p-horizontal_medium slds-p-bottom_large">
                                <div class="slds-col slds-size_1-of-3">
                                    <lightning:inputField fieldName="FirstName" /><br/>
                                    <lightning:fileUpload label="Attach resume:"
                                                          name="fileUploader"
                                                          multiple="true"
                                                          accept=".doc, .docx, .pdf"
                                                          recordId="{!v.userId}"
                                                          onuploadfinished="{!c.handleFiles}" />
                                      <div class="slds">
                                        <div aura:id="uiMessage">{!v.body}</div>
                                
                                       <!-- <lightning:button label="Upload File" value="Upload File" onclick="{!c.sendMessage}" disabled="true" aura:id="uploadFileButton"/>
                                        <iframe aura:id="vfFrame" src="{! v.frameSrc}" width="{!v.frameWidth}" height="{!v.frameHeight}" class="vfFrame"/>-->
                                    </div>
                                    <ui:outputText value="{!v.filename}"/>
                                </div> 
                                <div class="slds-col slds-size_1-of-3">
                                    <lightning:inputField fieldName="LastName" />
                                </div>
                                <div class="slds-grid_absolute-center slds-col slds-size_1-of-3">
                                    <lightning:inputField fieldName="CurrentLocation__c" />
                                    
                                </div>    
                            </div>
                        </div>
                    </lightning:recordEditForm>
                </div>
            </aura:if>
        </div>
</aura:component>